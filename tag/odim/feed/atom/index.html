<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>wradlib - odim</title><link href="https://wradlib.org/" rel="alternate"></link><link href="https://wradlib.org/tag/odim/feed/atom/index.html" rel="self"></link><id>https://wradlib.org/</id><updated>2019-02-15T11:00:00+01:00</updated><subtitle>An Open Source Library for Weather Radar Data Processing</subtitle><entry><title>Utilizing xarray for CfRadial - ODIM_H5 interoperability</title><link href="https://wradlib.org/2019/02/xarray_cfradial2_odimh5/" rel="alternate"></link><published>2019-02-15T11:00:00+01:00</published><updated>2019-02-15T11:00:00+01:00</updated><author><name>wradlib</name></author><id>tag:wradlib.org,2019-02-15:/2019/02/xarray_cfradial2_odimh5/</id><summary type="html">&lt;p&gt;We have just added a new feature for CfRadial2 - ODIM_H5 interoperability to&amp;nbsp;wradlib.&lt;/p&gt;
&lt;p&gt;wradlib is now able to read data from netcdf-based CfRadial1, CfRadial2 and hdf5-based ODIM_H5 (and other hdf5-flavours (&lt;span class="caps"&gt;GAMIC&lt;/span&gt;)).&lt;/p&gt;
&lt;p&gt;wradlib is able to write data to CfRadial2 and ODIM_H5 files. This reader implementation&amp;nbsp;uses&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://unidata.github.io/netcdf4-python/"&gt;netcdf4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.h5py.org/"&gt;h5py&lt;/a&gt;&amp;nbsp;and&lt;/li&gt;
&lt;li&gt;&lt;a href="https://xarray.pydata.org/"&gt;xarray …&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;We have just added a new feature for CfRadial2 - ODIM_H5 interoperability to&amp;nbsp;wradlib.&lt;/p&gt;
&lt;p&gt;wradlib is now able to read data from netcdf-based CfRadial1, CfRadial2 and hdf5-based ODIM_H5 (and other hdf5-flavours (&lt;span class="caps"&gt;GAMIC&lt;/span&gt;)).&lt;/p&gt;
&lt;p&gt;wradlib is able to write data to CfRadial2 and ODIM_H5 files. This reader implementation&amp;nbsp;uses&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://unidata.github.io/netcdf4-python/"&gt;netcdf4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.h5py.org/"&gt;h5py&lt;/a&gt;&amp;nbsp;and&lt;/li&gt;
&lt;li&gt;&lt;a href="https://xarray.pydata.org/"&gt;xarray&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The data is claimed using netcdf4-Dataset in a diskless non-persistent&amp;nbsp;mode:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    :::python
    ncf = nc.Dataset(filename, diskless=True, persist=False)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Further the different netcdf/hdf groups are accessed via xarray opendataset and the&amp;nbsp;NetCDF4DataStore:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    :::python
    xr.open_dataset(xr.backends.NetCDF4DataStore(ncf), mask_and_scale=True)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;For hdf5 data scaling/masking properties will be added to the datasets before decoding. For &lt;span class="caps"&gt;GAMIC&lt;/span&gt; compound data will be read via&amp;nbsp;h5py.&lt;/p&gt;
&lt;p&gt;The data structure holds one &lt;code&gt;root&lt;/code&gt; xarray dataset which corresponds to the CfRadial2 root-group and one or many &lt;code&gt;sweep_X&lt;/code&gt; xarray datasets, holding the sweep data. Since for data handling xarray is utilized all xarray features can be exploited, like &lt;strong&gt;lazy-loading&lt;/strong&gt;, &lt;strong&gt;pandas-like indexing&lt;/strong&gt; on N-dimensional data and vectorized mathematical operations across multiple&amp;nbsp;dimensions.&lt;/p&gt;
&lt;p&gt;Using &lt;a href="https://scitools.org.uk/cartopy/"&gt;cartopy&lt;/a&gt; and/or &lt;a href="http://docs.dask.org/"&gt;dask&lt;/a&gt; the possibilities seem&amp;nbsp;endless.&lt;/p&gt;
&lt;p&gt;The writer implementation uses xarray for CfRadial2 output and relies on h5py for the ODIM_H5&amp;nbsp;output.&lt;/p&gt;
&lt;p&gt;One word of warning, this implementation is considered experimental. Changes in the &lt;span class="caps"&gt;API&lt;/span&gt; should be&amp;nbsp;expected.&lt;/p&gt;
&lt;p&gt;We welcome everybody to check it out and report back any bugs, feature requests or other&amp;nbsp;comments.&lt;/p&gt;</content><category term="news"></category><category term="cfradial2"></category><category term="odim"></category><category term="python"></category></entry></feed>